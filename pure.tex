\documentclass[a4paper]{article}

%%%%%%%%%%%%%%%%%%page size%%%%%%%%%%%%%%%%%%
% \paperwidth=65cm
% \paperheight=160cm

%%%%%%%%%%%%%%%%%%%Package%%%%%%%%%%%%%%%%%%%
\renewcommand{\baselinestretch}{1.1}
\usepackage[margin=3cm]{geometry}
\usepackage{mathtools,amsthm,amssymb}
\usepackage{centernot}
\usepackage{yhmath}
\usepackage{graphicx}
\usepackage{fontspec}
\usepackage{titlesec}
\usepackage{titling}
\usepackage{fancyhdr}
\usepackage{tabularx}
\usepackage[square, comma, numbers, super, sort&compress]{natbib}
\usepackage[unicode, pdfborder={0 0 0}, bookmarksdepth=-1]{hyperref}
\usepackage[usenames, dvipsnames]{color}
\usepackage[shortlabels, inline]{enumitem}
\setenumerate{itemsep=0.2em,topsep=0.25em}
\setitemize{itemsep=0.2em,topsep=0.25em}
\setdescription{itemsep=0.2em,topsep=0.25em}
\usepackage{xpatch}
\usepackage{relsize}
%\usepackage{parskip}
\parskip=0.5em

%\usepackage{tabto}     
%\usepackage{soul}      
%\usepackage{ulem}      
%\usepackage{wrapfig}   
%\usepackage{floatflt}  
\usepackage{float}     
\usepackage{caption}   
\usepackage{subcaption}
%\usepackage{setspace}  
\usepackage{mdframed}  
%\usepackage{multicol}  
%\usepackage[abbreviations]{siunitx}
%\usepackage{dsfont}   

%%%%%%%%%%%%%%%%%%%TikZ%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikz}
\usepackage{tikz-cd}
%\usepackage{circuitikz}
\usetikzlibrary{calc}
\usetikzlibrary{arrows}
\usetikzlibrary{shapes}
\usetikzlibrary{positioning}
\usetikzlibrary{decorations.pathmorphing}

\tikzstyle{every picture}+=[remember picture]

%%%%%%%%%%%%%%中文 Environment%%%%%%%%%%%%%%%
\usepackage[CheckSingle, CJKmath]{xeCJK}  % xelatex 中文
\usepackage{CJKulem}	% 中文字裝飾
%\setCJKmainfont[BoldFont=cwTeX Q Hei]{cwTeX Q Ming}
%\setCJKsansfont[BoldFont=cwTeX Q Hei]{cwTeX Q Ming}
%\setCJKmonofont[BoldFont=cwTeX Q Hei]{cwTeX Q Ming}

%%%%%%%%%%%%%%%%%font size%%%%%%%%%%%%%%%%%%%
%\def\normalsize{\fontsize{10}{15}\selectfont}
%\def\large{\fontsize{12}{18}\selectfont}
%\def\Large{\fontsize{14}{21}\selectfont}
%\def\LARGE{\fontsize{16}{24}\selectfont}
%\def\huge{\fontsize{18}{27}\selectfont}
%\def\Huge{\fontsize{20}{30}\selectfont}

%%%%%%%%%%%%%%%Theme Input%%%%%%%%%%%%%%%%%%%
%\input{themes/chapter/neat}
%\input{themes/env/problist}

%%%%%%%%%%%titlesec settings%%%%%%%%%%%%%%%%%
%\titleformat{\chapter}{\bf\Huge}
            %{\arabic{section}}{0em}{}
%\titleformat{\section}{\centering\Large}
            %{\arabic{section}}{0em}{}
%\titleformat{\subsection}{\large}
            %{\arabic{subsection}}{0em}{}
%\titleformat{\subsubsection}{\bf\normalsize}
            %{\arabic{subsubsection}}{0em}{}
%\titleformat{command}[shape]{format}{label}
            %{gutter}{before}[after]

%%%%%%%%%%%%variable settings%%%%%%%%%%%%%%%%
%\numberwithin{equation}{section}
%\setcounter{secnumdepth}{4}
%\setcounter{tocdepth}{1}
%\setcounter{section}{0}
%\graphicspath{{images/}}

%%%%%%%%%%%%%%%page settings%%%%%%%%%%%%%%%%%
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\setlength{\headheight}{15pt}  % with titling
\setlength{\droptitle}{-2.5cm}
%\posttitle{\par\end{center}}  % distance between title and content
\parindent=0pt % indent size
%\parskip=1ex    % line space
%\pagestyle{empty}  % empty: no page number
%\pagestyle{fancy}  % fancy: fancyhdr

% use with fancygdr
%\lhead{\leftmark}
%\chead{}
%\rhead{}
%\lfoot{}
%\cfoot{}
%\rfoot{\thepage}
%\renewcommand{\headrulewidth}{0.4pt}
%\renewcommand{\footrulewidth}{0.4pt}

%\fancypagestyle{firststyle}
%{
  %\fancyhf{}
  %\fancyfoot[C]{\footnotesize Page \thepage\ of \pageref{LastPage}}
  %\renewcommand{\headrule}{\rule{\textwidth}{\headrulewidth}}
%}

%%%%%%%%%%%%%%%renew command%%%%%%%%%%%%%%%%%
% \renewcommand{\contentsname}{Table of Content}
% \renewcommand{\refname}{Reference}
\renewcommand{\abstractname}{\LARGE Abstract}

%%%%%%%%symbol and function settings%%%%%%%%%
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclarePairedDelimiter{\inpd}{\langle}{\rangle} % inner product
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclareMathOperator{\adj}{adj}
\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\csch}{csch}
\DeclareMathOperator{\arcsec}{arcsec}
\DeclareMathOperator{\arccot}{arccot}
\DeclareMathOperator{\arccsc}{arccsc}
\DeclareMathOperator{\arccosh}{arccosh}
\DeclareMathOperator{\arcsinh}{arcsinh}
\DeclareMathOperator{\arctanh}{arctanh}
\DeclareMathOperator{\arcsech}{arcsech}
\DeclareMathOperator{\arccsch}{arccsch}
\DeclareMathOperator{\arccoth}{arccoth}
\newcommand{\np}[1]{\\[{#1}] \indent}
\newcommand{\tr}[1]{{#1}^\mathrm{t}}
%%%% Geometry Symbol %%%%
\newcommand{\degree}{^\circ}
\newcommand{\Arc}[1]{\wideparen{{#1}}}
\newcommand{\Line}[1]{\overleftrightarrow{{#1}}}
\newcommand{\Ray}[1]{\overrightarrow{{#1}}}
\newcommand{\Segment}[1]{\overline{{#1}}}
%%%% Math symbol %%%%
\newcommand{\defeq}{\triangleq}
\newcommand{\Nb}{\mathbb{N}}
\newcommand{\Zb}{\mathbb{Z}}
\newcommand{\Qb}{\mathbb{Q}}
\newcommand{\Rb}{\mathbb{R}}
\newcommand{\Cb}{\mathbb{C}}
\newcommand{\Hb}{\mathbb{H}}
\newcommand{\Fb}{\mathbb{F}}
\newcommand{\Fbx}{\mathbb{F}^\times}
\newcommand{\Qbx}{\mathbb{Q}^\times}
\newcommand{\Rbx}{\mathbb{R}^\times}
\newcommand{\Cbx}{\mathbb{C}^\times}
\newcommand{\Hbx}{\mathbb{H}^\times}

\usetikzlibrary{matrix}

\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Image}{Im}
\DeclareMathOperator{\Char}{char}
\DeclareMathOperator{\Fix}{Fix}
\DeclareMathOperator{\Inn}{Inn}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Isom}{Isom}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\Exp}{Exp}
\DeclareMathOperator{\Syl}{Syl}
\newcommand{\ob}{\overline}
\DeclareMathOperator{\ord}{ord}
\DeclarePairedDelimiter{\gen}{\langle}{\rangle} % generator
%\newcommand*\quot[2]{{^{\textstyle #1}\Big/_{\textstyle #2}}}
\newcommand*\quot[2]{{#1}/{#2}}
\newcommand\bij{\lhook\joinrel\twoheadrightarrow}
\newcommand\toone{\hookrightarrow}
\newcommand\onto{\twoheadrightarrow}
\newcommand\acts{\curvearrowright}
\newcommand\revacts{\curvearrowleft}

% cycle group \cycle{1,2,3} => (1 2 3)
\ExplSyntaxOn
\NewDocumentCommand{\cycle}{ O{\;} m }
 {
  (
  \alec_cycle:nn { #1 } { #2 }
  )
 }

\seq_new:N \l_alec_cycle_seq
\cs_new_protected:Npn \alec_cycle:nn #1 #2
 {
  \seq_set_split:Nnn \l_alec_cycle_seq { , } { #2 }
  \seq_use:Nn \l_alec_cycle_seq { #1 }
 }
\ExplSyntaxOff

\newcommand\Div{\,\big|\,}
\newcommand\nDiv{\,\big\not|\,}
\newcommand\relmiddle[1]{\mathrel{}\middle#1\mathrel{}}
\newcommand{\RNum}[1]{\uppercase\expandafter{\romannumeral #1\relax}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\renewcommand{\proofname}{\bf pf:}
\newtheoremstyle{mystyle}% custom style
  {6pt}{15pt}%      top and bottom margin
  {}%               content style
  {}%               indent
  {\bf}%            head style
  {.}%              after head
  {1em}%            distance between head and content
  {}%               Theorem head spec (can be left empty, meaning 'normal')

\newtheorem{theorem}{Theorem}
\newtheorem{formula}{Formula}
\newtheorem{conclusion}{Conclusion}
\newtheorem{lemma}{Lemma}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

\theoremstyle{definition}
\newtheorem{example}{Example}

\theoremstyle{definition}
\newtheorem{definition}{Definition}

\theoremstyle{plain}
\newtheorem{proposition}{Proposition}

\DeclareMathOperator*{\freeprod}{\raisebox{-0.4ex}{\scalebox{2}{$\ast$}}\!}
\newcommand{\gid}{\mathfrak{G}}

\makeatletter
\newcommand{\proofpart}[1]{%
  \par
  \addvspace{\medskipamount}%
  \noindent\emph{(#1)}\par\nobreak
  \addvspace{\smallskipamount}%
  \@afterheading
}
\makeatother
\title{Purely inseparable extensions}
\date{}

\begin{document}
  \maketitle
  \vspace*{-2.5cm}

  First we recap some results we've already learned.
  \begin{definition}
    A field $K$ is {\bf perfect} if either $\Char K = 0$, or $\Char K = p > 0$ and $K = K^p$.
  \end{definition}

  \begin{proposition}
    Every algebraic extension of a perfect field is separable.
  \end{proposition}

  So if $\Char K = 0$, then every algebraic extension $L/K$ is separable.
  Since the topic today is purely ``inseparable'' extension, throughout this handout
  we shall assume every field $K$ has positive characteristic $p$.

  \begin{proposition} \label{prop:p-power-is-mono}
    If $\Char K = p$, then $\tau = x \mapsto x^p$ is a monomorphism.
  \end{proposition}

  So from this proposition we know that if $a \not\in K$, then $a^p \not\in K^p$.

  \begin{proposition}
    The polynomial $x^p - b$ is irreducible over $K$ if $b \not\in K^p$.
  \end{proposition}


  Now we start from giving the definition of a purely inseparable extension.

  \begin{definition}
    Let $K$ be a field with $\Char K = p > 0$. Let $L/K$ be an extension.

    \begin{itemize}
      \item An element $\alpha \in L$ is {\bf purely inseparable} over $K$ if
        there exists a power $q = p^n$ such that $\alpha^q \in F$.
      \item The extension $F/K$ is said to be {\bf purely inseparable} if and only if
        every element of $F$ is purely inseparable over $K$.
    \end{itemize}
  \end{definition}

  The definition emerges from an observation of inseparable irreducible polynomials.

  \begin{proposition} \label{prop:sep-polynomial}
    Let $f(x)$ be an irreducible polynomial over a field $K$, and assume $\Char K = p$.
    Then there is a unique integer $k \geq 0$ and a unique irreducible separable polynomial
    $f_{\text{sep}}(x)$ such that $f(x) = f_\text{sep}\big(x^{p^k}\big)$.

    \begin{proof}
      Since $f(x)$ is separable, $f'(x) = 0$ and thus we know that
      \[ f(x) = a_{mp} \, x^{mp}  + a_{(m-1)p} \, x^{(m-1)p} + \dots + a_p x^p + a_0 \]
      So we could write $f(x) = f_1(x^p)$. Similarly if $f_1$ is still inseparable, we could
      write $f_2(x) = f_1(x^p)$. Continue this process and eventually we would get an separable
      polynomial $f_k(x)$. and thus
      \[ f(x) = f_1(x^p) = f_2 \big( x^{p^2} \big) = \dots
        = f_k \big( x^{p^k} \big) \defeq f_\text{sep}\big( x^{p^k} \big) \]
    \end{proof}
  \end{proposition}

  \begin{definition}
    We then define the {\bf separable degree} of a polynomial to be $\deg_s f \defeq \deg f_\text{sep}$ and
    the {\bf inseparable degree} of a ploynomial to be $\deg_i f \defeq p^k$.
  \end{definition}

  \begin{proposition} \label{prop:multiplicity-insep}
    An irreducible polynomial $f$ has $\deg_s f$ distinct roots, each of them has multiplicity $\deg_i f$
    in its splitting field.
    That is, if $n = \deg_s f,\  m = \deg_i f$, then in the splitting field of $f$,
    \[ f(x) = (x - \alpha_1)^m (x - \alpha_2)^m \dotsm (x - \alpha_n)^m \]

    \begin{proof}
      By proposition~\ref{prop:sep-polynomial}, we could assume $f(x) = f_\text{sep}\big(x^{p^k}\big)$,
      and $f(\alpha) = 0$ implies $f_\text{sep}\big(\alpha^{p^k}\big) = 0$. Also, the map $x \mapsto x^{p^k}$
      is 1-1 by proposition~\ref{prop:p-power-is-mono}, hence $f$ and $f_\text{sep}$ has the same number of
      roots.

      Since $f_\text{sep}$ is separable, it has $n = \deg f_\text{sep} = \deg_s f$
      distinct roots, so we could write write
      \[ f_\text{sep}(x) =
        \big(x - \alpha_1^{p^k}\big) \big(x - \alpha_2^{p^k}\big) \dotsm \big(x - \alpha_n^{p^k}\big), \]
      and thus
      \[ f(x) = f_\text{sep}\big( x^{p^k} \big) =
        \Big(x^{p^k} - \alpha_1^{p^k}\Big) \Big(x^{p^k} - \alpha_2^{p^k}\Big) \dotsm \Big(x^{p^k}- \alpha_n^{p^k}\Big)
        = \big(x - \alpha_1\big)^{p^k} \big(x - \alpha_2\big)^{p^k} \dotsm \big(x - \alpha_n\big)^{p^k} \]

    \end{proof}
  \end{proposition}

  \begin{lemma} \label{lemma:stack-of-pure-ext}
    If $K \subseteq M \subseteq L$, then $M/K$ and $L/M$ are purely inseparable extensions
    if and only if $L / K$ is purely inseparable.
    \begin{proof}
      ``$\Leftarrow$'': Trivial.

      ``$\Rightarrow$'':
      Let $\Char K = p$, then for any $\alpha \in F$, exists $p$-power $q_1$ such that
      $\alpha^{q_1} \in M$. Similarly exists $p$-power $q_2$ such that $(\alpha^{q_1})^{q_2} \in K$.
      Since $q = q_1 q_2$ is also a power of $p$, $(\alpha^{q_1})^{q_2} = \alpha^q \in K$
      implies that $L/K$ is purely inseparable.
    \end{proof}
  \end{lemma}

  \begin{lemma} \label{lemma:building-tower}
    Let $L/K$ be a finite purely inseparable field extension such that $\Char K = p$.
    Then there exists a sequence of elements $\alpha_1, \dots, a_n \in L$ such that
    \[ K \subset K(\alpha_1) \subset K(\alpha_1, \alpha_2) \subset \dots \subset K(\alpha_1, \alpha_2, \dots, \alpha_n) \]
    and each $\alpha_i^p$ is an element in $K(\alpha_1, \dots, \alpha_{i-1})$ which
    does not have a $p$-root in it.

    \begin{proof}
      By induction on $n = [L: K]$. $n = 1$ is trivial, so assume $n > 1$.
      Choose $\beta \in L \setminus K$, and assume $r$ is the least positive integer
      such that $\beta^{p^r} \in K$. Let $\alpha \defeq \beta^{p^{r-1}}$, then $\alpha \not\in K$
      and $\alpha^p \in K$. By proposition~\ref{prop:p-power-is-mono}, $\alpha^p$ is not a $p$-power
      of an element in $K$. Also by lemma~\ref{lemma:stack-of-pure-ext}, $L / K(\alpha_1)$
      is a pure inseparable extension with degree less then $n$, thus by induction the prove is completed.
    \end{proof}
  \end{lemma}


  \begin{proposition} \label{prop:decomp-of-insep}
    Let $L/K$ be an algebraic field extension. Then there exists an unique
    subextension $K \subseteq L_{\text{sep}} \subseteq L$ such that $L_{\text{sep}}/K$
    is separable and $L/L_{\text{sep}}$ is purely inseparable.

    \begin{proof}
      Assume that $\Char K = p$. Let $L_{\text{sep}} \defeq \{ \alpha \in L : \alpha \text{ is separable}\}$,
      then $L_{\text{sep}}$ is a subfield since if $\alpha, \beta$ are separable over $K$, then $K(\alpha, \beta)/K$
      is also separable.

      Given $\alpha \in L$, by proposition~\ref{prop:sep-polynomial} we know that the minimal
      polynomial of $\alpha$ could be written as $m_{\alpha, K} = f_\text{sep}\big(x^{p^k}\big)$,
      where $f_\text{sep}$ is irreducible and separable. Thus $x^{p^k} \in L_\text{sep}$ and
      hence $L/L_\text{sep}$ is purely inseparable.
    \end{proof}
  \end{proposition}

  \begin{definition}
    Since $L_\text{sep}$ is unique, it is well-posed to define the following.
    \begin{enumerate}
      \item $[L: K]_s \defeq [L_\text{sep} : K]$ is the separable degree of $L$ over $K$.
      \item $[L: K]_i \defeq [L : L_\text{sep}]$ is the inseparable degree of $L$ over $K$.
    \end{enumerate}
  \end{definition}

  One may notice that for an extension $L/K$, $M \defeq \{ \alpha : \alpha \text{ purely inseparable over } K\}$
  is also a subextension, and wonder if $L/M$ would then be separable. The answer is negative as
  the following gives a counter example.

  \begin{example}
    Consider $K = \Fb_p(x, y)$ and $L = K(\alpha)$ be a root of the polynomial $f = t^{p^2} + x t^p + y$.
    Then $f$ is irreducible, since $f$ is irreducible in $\Fb_p[x, y][t] = \Fb_p[x, y, t]$ and
    we could then use the Gauss' Lemma. Then since $\alpha$ is inseparable, but $\alpha^p$
    is separable, so $[L: K] = p^2$ and $[L: K]_s = [L: K]_i = p$.

    We claim that no element in $L \setminus K$ is purely inseparable by
    proving that $L_\text{sep}$ is the unique intermediate field between $L$ and $K$.
    Let $M \neq L_\text{sep}$ be another field such that $K \subsetneq M \subsetneq L$. If $[M: K]_s = p$,
    then since $L_\text{sep}$ contains all separable element, it would then force $M = L_\text{sep}$,
    so $[M: K]_s = 1$, which implies that $[M: K]_i = p$ and thus $M/K$ is purely inseparable.

    Now $L/M$ could not be purely inseparable, or else lemma~\ref{lemma:stack-of-pure-ext} would
    force $L/K$ to be purely inseparable, thus $L/M$ is separable. Also, $L = M(\alpha)$,
    so the minimal polynomial $g = m_{\alpha, M}$ must be separable. Let $L'$ be the splitting
    field of $f$ over $M$, then $g$ has $p$ distinct roots in $L'$ since $\deg g = p$ and $g \mid f$.
    By proposition~\ref{prop:multiplicity-insep}, $f$ also has $p$ distinct roots, each with multiplicity
    $p$, hence we have $f(x) = g(x)^p$. Then we know that $g(x) = t^p + \beta t + \gamma$, where
    $\beta^p = x$ and $\gamma^p = y$. Since $g(x) \in M[x]$, we have $\beta, \gamma \in M$.
    But $K(\beta, \gamma)$ is an extension with degree $p^2$, and contained in $M$,
    an extension with degree $p$, which leads to an contradiction.

    Thus there are no intermediate field other then $L_\text{sep}$. Since $L/K$ is not purely
    inseparable, there is no element in $L$ that is purely inseparable over $K$.
  \end{example}

  \begin{lemma} \label{lemma:number-of-ext-equal-sep-deg}
    Let $L/K$ be a finite extension, and $\overline{K}$ be an algebraic closure of $K$.
    Then $[L: K]_s = \abs{\Mor(L/K, \overline{K})}$.

    \begin{proof}
      If $L/K$ is purely inseparable, then by lemma~\ref{lemma:building-tower}, we could write
      $L = K(\alpha_1, \alpha_2, \dots, \alpha_n)$ such that the minimal polynomial of $\alpha_i$
      over $K_{i-1} \defeq K(\alpha_1, \dots, \alpha_{i-1})$ is $x^p - \alpha_i^p$.
      This polynomial has only one reapeted root in $\overline{K}$, thus if $\tau: K_{i-1} \to \overline{K}$,
      there is only one extension $\sigma: K_i \to \overline{K}$. Hence
      for each monomorphism $\tau: K \to \overline{K}$, there is only one extension $\sigma: L \to \overline{K}$.

      Now for the general case, by proposition~\ref{prop:decomp-of-insep}, there is a subextension
      $L_\text{sep}$ such that $L_\text{sep} / K$ is separable and $L / L_\text{sep}$ is purely inseparable.
      We know that $\abs{\Mor(L_\text{sep}/K), \overline{K}} = [L_\text{sep}: K]$, and by the
      first paragraph we know that $\abs{\Mor(L/K, \overline{K})} = \abs{\Mor(L_\text{sep}/K, \overline{K})}
      = [L_\text{sep}: K] = [L: K]_s$.
    \end{proof}
  \end{lemma}

  \begin{proposition} \label{prop:final-prop}
    Given two algebraic extensions $L/M$ and $M/K$, then
    \[ [L: K]_s = [L: M]_s [M:K]_s \quad \mathrm{and} \quad [L: K]_i = [L: M]_i [M: K]_i \]

    \begin{proof}[Proof assuming \({[L: K]}\) is finite]
      Let $\overline{L}$ be the algebraic closure of $L$, since $K \subseteq M \subseteq L$,
      we know that $\overline{L}$ is also the algebraic closure of $M$ and $K$.
      By lemma~\ref{lemma:number-of-ext-equal-sep-deg}, there are $[M: K]_s$ monomorphism
      $\tau :: M \to \overline{L}$ that fixes $K$, and each of them has $[L: M]_s$ extensions
      $\sigma :: L \to \overline{L}$. So there are totally $[M: K]_s [L: M]_s$ monomorphisms
      from $L$ to $\overline{L}$ that fixes $K$, and this number should equal $[L: K]_s$,
      thus $[M: K]_s [L: M]_s = [L: K]_s$. Also,
      \[ [L: K]_i = \frac{[L: K]}{[L: K]_s} = \frac{[L: M]_{\ }}{[L: M]_s}\frac{[M: K]_{\ }}{[M: K]_s} =
        [L: M]_i [M: K]_i \]
    \end{proof}
  \end{proposition}

  \begin{definition}
    Given a field $K$, if $L/K$ is an algebraic extension such that $L/K$ is perfect
    and is the minimal one which has this property, then we called $L$ a {\bf perfect closure} of $K$.
    Formally, if $F/K$ is any other perfect algebraic extension, then there is an embedding $L \hookrightarrow K$.
  \end{definition}

  \begin{proposition} \label{prop:perfect-closure-exists}
    Perfect closure exists and is unique up to isomorphism. Explicitly, the perfect closure of $K$ is
    $K_p \defeq \{ \alpha \in \overline{K} \mid \alpha \text{ is purely inseparable over } K \}$
    where $\overline{K}$ is the algebraic closure of $K$.

    \begin{proof}
      First, $K_\text{p}$ is a field since the product/division of two purely inseparable element
      is still purely inseparable, and since $(\alpha \pm \beta)^{p^n} = \alpha^{p^n} \pm \beta^{p^n}$,
      $K_\text{p}$ is indeed a field. Also $K_\text{p}$ is perfect, since if $\alpha \in K_\text{p}$,
      then its $p$th root $\alpha^{1/p} \in \overline{P}$ satisfied $\big(\alpha^{1/p}\big)^{p^{n+1}} =
      \alpha^{p^n}$, thus is purely inseparable and is contained in $K_\text{p}$.

      If $F/K$ is another perfect algebraic extension, pick an embedding
      $\overline{K} \hookrightarrow \overline{F}$, then for any $\alpha \in K_\text{p}$,
      $\alpha^{p^n} \in K$ for some $n$, but since $K \subseteq F$ and $F = F^{p^n}$, $\alpha^{p^n}$
      has a $p^n$ root in $F$ and we know it is $\alpha$, so $K_\text{p} \subseteq F$.
      Notice that this embedding from $K_\text{p}$ to $F$ is unique. Since
      for any $\alpha \in K_\text{p}$, $\alpha^{p^n} \in K$ for some $n$.
      Then the embedding $\varphi$ must map $\varphi(\alpha)$ to the $p^n$th root of $\varphi(\alpha^{p^n})$
      which is fixed since $K$ is contained in both $\overline{K}$ and $\overline{F}$.
      By the fact that $p^n$th root of an element is unique, $\varphi(\alpha)$ is then determined.
      Hence uniqueness of the perfect closure is proved.
    \end{proof}
  \end{proposition}

  \begin{lemma} \label{lemma:perfect-closure-char}
    $L$ is a perfect closure of $K$ if and only if $L$ contains $K$ and that $L$ is perfect and
    purely inseparable.

    \begin{proof}
      By prop~\ref{prop:perfect-closure-exists}, since perfect closure is unique,
      we know that the perfect closure is purely inseparable by its construction.

      Now if $L/K$ is perfect and purely inseparable, then by the minimality of $K_\text{p}$,
      there is an embedding $K_\text{p} \hookrightarrow L$. So $L/K_\text{p}$ is purely inseparable
      since $L/K$ is purely inseparable, and is also separable since $K_\text{p}$ is perfect.
      Hence $L = K_\text{p}$.
    \end{proof}
  \end{lemma}

  \begin{lemma} \label{lemma:alg-ext-of-perfect-is-perfect}
    If $K$ is perfect, then any algebraic extension $L/K$ is perfect.

    \begin{proof}
      For any $\alpha \in L$, consider the polynomial $f(x) = x^p - \alpha$ and let $\beta$ be a
      root of it. If $f$ irreducible, Then $f \mid m_{\beta, K}$, but any irreducible polynomial in a perfect field
      is separable, hence $f$ separable which leads to an contradiction. Thus we conclude that $f$ is
      reducible, so $\alpha$ has a $p$ root and therefore $L^p = L$.
    \end{proof}
  \end{lemma}

  \begin{lemma} \label{lemma:perfect-closure-of-ext}
    Let $L/K$ be any algebraic extension inside $\overline{K}$, then $L K_\text{p}$ is
    the perfect closure of $L$ inside $\overline{K}$.

    \begin{proof}
      $L K_\text{p}$ is perfect since $K_\text{p}$ is perfect and then lemma~\ref{lemma:alg-ext-of-perfect-is-perfect}.
      Since every element in $L K_\text{p}$ could be writen as $\sum l_i k_i / \sum \lambda_i \kappa_i$ where
      $l_i, \lambda_i \in L, \, k_i, \kappa_i \in K_\text{p}$, and the summation is finite.
      Hence we could apply a power $p^n$ big enough such that each $k_i^{p^n} , \kappa_i^{p^n} \in K$, and
      \[ \left( \frac{\sum l_i k_i}{\sum \lambda_i \kappa_i} \right)^{p^n} =
        \frac{\sum l_i^{p^n} k_i^{p^n}}{\sum \lambda_i^{p^n} \kappa_i^{p^n}} \in L \]
      Thus $L K_\text{p}$ is purely inseparable. By lemma~\ref{lemma:perfect-closure-char}, $L K_\text{p}$
      is the perfect closure of $K$.
    \end{proof}
  \end{lemma}

  \newcommand*{\Kp}{K_\mathrm{p}}
  \newcommand*{\Ks}{K_\mathrm{s}}
  \begin{proposition} \label{prop:separable-deg-equal-perfect-closure-deg}
    For any algebraic extension $L/K$,
    \[ [L: K]_s = [LK_\mathrm{p}: K_\mathrm{p}] \]

    \begin{proof}
      First we prove that if $M/K$ is separable, then $[M: K] = [MK_\mathrm{p}: K_\mathrm{p}]$.
      Assuming that $[M: K] < \infty$. Then there is an sequence of extension
      \[ K = K_0 \subseteq K_1 \subseteq \dots \subseteq K_n = M \]
      with $K_i = K_{i-1}(\alpha_i)$ and $K_i / K_{i-1}$ separable. We have
      \[ K_0 \Kp \subseteq K_1 \Kp \subseteq \dots \subseteq K_n \Kp \]
      and $K_i \Kp = (K_{i-1} \Kp)(\alpha_i)$. By lemma~\ref{lemma:perfect-closure-of-ext},
      $K_i \Kp$ is the perfect closure of $K_i$. Thus by multiplicativity of field degree
      in extension tower, it is enough to prove the case $M = K(\alpha)$.

      Now since $K \subset \Kp$, $m_{\alpha, \Kp} \mid m_{\alpha, K}$, so if we could
      prove $f = m_{\alpha, K}$ is irreducible over $\Kp[x]$ then $[K(\alpha): K] = [\Kp(\alpha): \Kp]$.
      Let $\beta_1, \beta_2, \dots, \beta_n$ be all the roots of $f$. If $f = gh$ in $\Kp[x]$
      such that $g, h$ are monic, then $g$ is a product of some $(x - \beta_i)$, and
      we could see that the coefficients of $g$ lies in $K(\beta_1, \dots, \beta_i)$.
      But since $f$ separable, each $\beta_i$ is separable and thus these coefficients are
      also separable. However, since $g \in \Kp[x]$ these coefficients are also purely inseparable,
      hence they all lie in $K$. By the fact that $f$ is irreducible over $K[x]$, we know
      that $g = 1 \text{ or } f$, and in both cases $f$ is irreducible over $\Kp[x]$.

      Thus we've proved that $[M: K] = [M \Kp: \Kp]$, now if $[M: K] = \infty$, then
      for any $n > 0, n \in \Nb$, we could find an subextension $M'/K$ such that $M'/K > n$,
      since $M'/K$ separable, we have $[M': K] = [M' \Kp: \Kp] < [M \Kp: \Kp]$, thus $[M \Kp: \Kp] = \infty$.

      Finally, for any algebraic extension $L/K$, let $M \defeq L_\text{sep}$, then $L / M$
      is purely inseparable. But then $L \Kp / M \Kp$ is also a purely inseparable extension
      with $M \Kp$ being perfect. By the fact that perfect fields are always separable,
      and $L \Kp / M \Kp$ being both separable and purely inseparable,
      we conclude that $L \Kp = M \Kp$, and thus $[L: K]_s = [M: K] = [M \Kp : \Kp] = [L \Kp: \Kp]$.
    \end{proof}
  \end{proposition}

  For the inseparable degree, we have a similar result.

  \begin{definition}
    Given a field $K$, define $\Ks$ to be
    $\Ks \defeq \{ \alpha \in \overline{K} \mid \alpha \text{ is separable over } K \}$.
    It is easy to see that $\Ks$ is the largest separable extension over $K$, thus
    $\Ks$ is called the {\bf separable closure} of $K$.
  \end{definition}

  \begin{lemma} \label{lemma:separable-closure-of-ext}
    Let $L/K$ be any algebraic extension inside $\overline{K}$, then $L \Ks$ is
    the separable closure of $L$ inside $\overline{K}$.

    \begin{proof}
      Clearly $L \Ks$ is separable.
      Since $K_\text{s}$ contains all separable elements in $\overline{K}$, by proposition~\label{prop:decomp-of-insep}
      we know that $\overline{K}$ is purely inseparable over $\Ks$, and thus purely inseparable over $L \Ks$.
      So $L \Ks$ has no non-trivial separable extension, hence $L\Ks$ is the separable closure of $L$.
    \end{proof}
  \end{lemma}

  \begin{proposition}
    For any algebraic extension $L/K$,
    \[ [L: K]_i = [L \Ks: \Ks] \]

    \begin{proof}
      Follow the same step in proposition~\ref{prop:separable-deg-equal-perfect-closure-deg},
      we only need to prove the case where $L = K(\alpha)$ and $L/K$ is a purely inseparable extension.
      Similarly, what we need to prove is that $m_{\alpha, K}$ is also irreducible in $\Ks$.
      Since $\alpha$ purely inseparable over $K$, assume $m_{\alpha, K} = x^{p^n} - \beta$
      such that $\beta \not\in K^p$. If $m_{\alpha, K}$ is reducible over $\Ks$, then
      $\beta$ must have a $p$th root, say $\gamma$ in $\Ks$, so $\gamma$ is purely inseparable over $K$,
      but $\gamma \in \Ks$ so $\gamma$ is also separable, hence $\gamma \in K \implies \beta \in K^p$
      which leads to an contradiction, thus $[L: K] = [L \Ks: \Ks]$ in this case.

      For the general case, assume $L/K$ is any algebraic extension. Let $M = L_\text{sep}$,
      then $M/K$ is separable, so $M \subseteq \Ks$ and thus $\Ks$ is also the separable closure of $M$.
      Since $L/M$ purely inseparable, we have $[L: K]_i = [L: M] = [L \Ks: \Ks]$.
    \end{proof}
  \end{proposition}

  We could finally give a complete proof to the general case in proposition~\ref{prop:final-prop}.

  \begin{proof}[Proof of proposition~\ref{prop:final-prop}]
    Notice that $L_\mathrm{p} = L \Kp, M_\mathrm{p} = M \Kp$ and similarly
    $L_\mathrm{s} = L \Ks, M_\mathrm{s} = M \Ks$, thus
    \[ [L: K]_s = [L_\mathrm{p}: K_\mathrm{p}] = 
      [L_\mathrm{p}: M_\mathrm{p}][M_\mathrm{p}: K_\mathrm{p}] = [L: M]_s [M: K]_s \]
    and
    \[ [L: K]_i = [L_\mathrm{s}: K_\mathrm{s}] = 
      [L_\mathrm{s}: M_\mathrm{s}][M_\mathrm{s}: K_\mathrm{s}] = [L: M]_i [M: K]_i \]
  \end{proof}

\end{document}
